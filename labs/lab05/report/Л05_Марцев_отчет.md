---
author: Марцев Аркадий
subtitle: "Дисциплина: архитектура компьютера"
title: Отчет по лабораторной работе №5
---

# Содержание {#содержание .TOC-Heading}

[Цель работы [1](#цель-работы)](#цель-работы)

[Задание [1](#задание)](#задание)

[Выполнение лабораторной работы [2](#_Toc152978298)](#_Toc152978298)

[Основы работы с mc [2](#основы-работы-с-mc)](#основы-работы-с-mc)

[Структура программы на языке ассемблера NASM
[3](#структура-программы-на-языке-ассемблера-nasm)](#структура-программы-на-языке-ассемблера-nasm)

[Подключение внешнего файла
[3](#подключение-внешнего-файла)](#подключение-внешнего-файла)

[Выполнение заданий для самостоятельной работы
[4](#выполнение-заданий-для-самостоятельной-работы)](#выполнение-заданий-для-самостоятельной-работы)

[Выводы [6](#выводы)](#выводы)

[Список литературы [6](#список-литературы)](#список-литературы)

# Цель работы

Целью данной лабораторной работы является приобретение практических
навыков работы в Midnight Commander, освоение инструкций языка
ассемблера mov и int.

# Задание

1.  Основы работы с mc

```{=html}
<!-- -->
```
1.  Структура программы на языке ассемблера NASM
2.  Подключение внешнего файла
3.  Выполнение заданий для самостоятельной работы

# Выполнение лабораторной работы

## 

## Основы работы с mc

Открываю Midnight Commander, введя в терминал mc.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image1.png){width="6.733333333333333in"
height="4.7in"}

рис 1

Перехожу в каталог \~/work/arch-pc, используя файловый менеджер mc

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image2.png){width="6.716666666666667in"
height="3.4756944444444446in"}

рис 2

С помощью функциональной клавиши F7 создаю каталог. Перехожу в созданный
каталог. В строке ввода прописываю команду touch lab5-1.asm, чтобы
создать файл, в котором буду работать.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image3.png){width="6.020833333333333in"
height="3.9479166666666665in"}

## Структура программы на языке ассемблера NASM

С помощью функциональной клавиши F4 открываю созданный файл для
редактирования в редакторе nano. Ввожу в файл код программы для запроса
строки у пользователя. Далее выхожу из файла, сохраняя изменения. С
помощью функциональной клавиши F3 открываю файл для просмотра, чтобы
проверить, содержит ли файл текст программы.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image4.png){width="6.020833333333333in"
height="3.9479166666666665in"}

Рис 4

Транслирую текст в обьектный файл при помощи команд nasm -f elf
lab5-1.asm и ld -m elf_i386 -o lab5-1 lab5-1.o

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image5.png){width="6.020833333333333in"
height="0.8541666666666666in"}

Рис 5

Запускаю исполняемый файл. Программа выводит строку "Введите строку:" и
ждет ввода с клавиатуры, я ввожу свои ФИО, на этом программа заканчивает
свою работу.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image6.png){width="4.791666666666667in"
height="0.5416666666666666in"}

## 

Рис 6

## Подключение внешнего файла

Скачиваю файл in_out.asm со страницы курса в ТУИС. Он сохранился в
каталог "Загрузки". С помощью функциональной клавиши F5 копирую файл
in_out.asm из каталога Загрузки в созданный каталог lab05.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image7.png){width="6.0625in"
height="4.03125in"}

С

Рис 7

С помощью функциональной клавиши F5 копирую файл lab5-1 в тот же каталог
с тем же именем и изменияю его на lab5-2.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image8.png){width="4.520833333333333in"
height="2.71875in"}

Рис 8

Изменяю содержимое файла lab5-2.asm во встроенном редакторе nano (рис.
15), чтобы в программе использовались подпрограммы из внешнего файла
in_out.asm.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image9.png){width="6.0625in"
height="4.072916666666667in"}

Рис 9

Транслирую текст программы файла в объектный файл командой nasm -f elf
lab5-2.asm. Создался объектный файл lab5-2.o. Выполняю компоновку
объектного файла с помощью команды ld -m elf_i386 -o lab5-2 lab5-2.o
Создался исполняемый файл lab5-2. Запускаю исполняемый файл.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image10.png){width="5.958333333333333in"
height="4.072916666666667in"}

Рис 10

Разница между первым исполняемым файлом lab5-2 использующим sprintLF и
sprint в том, что запуск первого запрашивает ввод с новой строки, а
программа, которая исполняется при запуске второго, запрашивает ввод без
переноса на новую строку.

## Выполнение заданий для самостоятельной работы

Создаю копии файлов lab5-1-1 и lab5-2-1 которые нужны будут для
самостоятельной работы.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image11.png){width="6.041666666666667in"
height="1.6145833333333333in"}

Рис 11

С помощью функциональной клавиши F4 открываю созданный файл для
редактирования. Изменяю программу так, чтобы кроме вывода приглашения и
запроса ввода, она выводила вводимую пользователем строку

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image12.png){width="6.041666666666667in"
height="3.90625in"}

Рис 12

Работа программы созданной для первого пункта самостоятельной работы

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image13.png){width="6.041666666666667in"
height="1.0in"}Рис 13

Редактирую код программы lab5-2-1 для того чтоб он выводил строку
введенную пользователем.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image14.png){width="6.041666666666667in"
height="4.3125in"}

Рис 14

Работа программы.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image15.png){width="6.041666666666667in"
height="0.7291666666666666in"}

Рис 15

Отправляю сделанные во время выполнения лабораторной работы файлы на
GitHub при помощи команд git.

![](vertopal_d0d0c19b7c654eeca464e3ea67e23528/media/image16.png){width="6.041666666666667in"
height="2.1875in"}[]{#выводы .anchor}

# Выводы {#выводы-1}

При выполнении данной лабораторной работы я приобрел практические навыки
работы в Midnight Commander, а также освоил инструкции языка ассемблера
mov и int.

# Список литературы

1.  [Лабораторная работа
    №5](https://esystem.rudn.ru/pluginfile.php/2091239/mod_resource/content/0/Лабораторная работа №5. Основы работы с Midnight Commander (). Структура программы на языке ассемблера NASM. Системные вызовы в ОС GNU Linux.pdf)
